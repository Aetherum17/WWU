namespace = wwu_government

# On Death election
country_event = {
	id = wwu_government.1
	title = wwu_government.1.title
	desc = wwu_government.1.desc
	picture = IMPORTANT_STATUE_eventPicture
	
	is_triggered_only = yes

	trigger = {
		government = republic
        NOT = { has_states_general_mechanic = yes }
		NOT = { has_government_attribute = lottery_election }
        NOT = { has_reform = despotic_republic_reform }
	}
	
	option = {
		name = wwu_government.1.option.a

		define_ruler = {
			adm = 4
			dip = 1
			mil = 1
			hide_skills = yes
		}
		
        add_republican_tradition = 5
        
		if = {
			limit = { has_estate = estate_peasants }
				
			add_estate_loyalty = {
				estate = estate_peasants
				loyalty = 5
			}
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = wwu_government.1.option.b

		define_ruler = {
			adm = 1
			dip = 4
			mil = 1
			hide_skills = yes
		}

        add_republican_tradition = 5
        
		if = {
			limit = { has_estate = estate_traders }
				
			add_estate_loyalty = {
				estate = estate_traders
				loyalty = 5
			}
		}
		
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = wwu_government.1.option.c

		define_ruler = {
			adm = 1
			dip = 1
			mil = 4
			hide_skills = yes
		}
		
        add_republican_tradition = 5
        
		if = {
			limit = { has_estate = estate_nobility }
				
			add_estate_loyalty = {
				estate = estate_nobility
				loyalty = 5
			}
		}
		
		ai_chance = {
			factor = 100
		}
	}
    option = {
		name = wwu_government.2.option.d
		trigger = {
			has_government_attribute = enables_family_candidate_for_elections
		}
		ai_chance = { factor = 10 }
        
		add_scaled_republican_tradition = -4
        
        define_ruler = {
            mil = -2
            adm = -2
            dip = -2
            min_age = 30
            max_age = 50
            name = "lastname"
            random_gender = yes # Allows random gender for republics
        }
	}
    
    after = {
        if = {
            limit = {
                has_reform = wwu_election_cycle_puppetmasters
            }
            
            country_event = { id = wwu_government.13 days = 7 }
        }
        
        if = {
            limit = {
                has_government_attribute = enables_spoiled_victor_event
            }
            
            country_event = { id = wwu_pirate_government.1 days = 7 }
        }
    }
}

# On Term Election
country_event = {
	id = wwu_government.2
	title = wwu_government.2.title
    desc = wwu_government.2.desc
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		government = republic
        NOT = { has_states_general_mechanic = yes }
		NOT = { has_government_attribute = lottery_election }
        NOT = { has_reform = despotic_republic_reform }
	}

	option = {
		name = wwu_government.2.option.a
		ai_chance = { factor = 20 }
        
		define_ruler = {
			adm = 4
			dip = 1
			mil = 1
			hide_skills = yes
		}
        
        add_republican_tradition = 5
        
        if = {
            limit = {
                has_government_attribute = enables_pirate_retirement
            }
            
            award_pirate_retirement_bonuses = yes
        }
	}
	option = {
		name = wwu_government.2.option.b
		ai_chance = { factor = 20 }
        
		define_ruler = {
			adm = 1
			dip = 4
			mil = 1
			hide_skills = yes
		}

        add_republican_tradition = 5
        
        if = {
            limit = {
                has_government_attribute = enables_pirate_retirement
            }
            
            award_pirate_retirement_bonuses = yes
        }
	}
	option = {
		name = wwu_government.2.option.c
		ai_chance = { factor = 20 }
        
		define_ruler = {
			adm = 1
			dip = 1
			mil = 4
			hide_skills = yes
		}
        
        add_republican_tradition = 5
        
        if = {
            limit = {
                has_government_attribute = enables_pirate_retirement
            }
            
            award_pirate_retirement_bonuses = yes
        }
	}
    option = {
		name = wwu_government.2.option.d
        
		trigger = {
			has_regency = no
		}
		ai_chance = { 
			factor = 60
			modifier = {
				factor = 0
				NOT = { republican_tradition = 25 }
			}	
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 50 }
			}				
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 75 }
			}	
			modifier = {
				factor = 2.0
				republican_tradition = 90
			}		
		}
		custom_tooltip = remains_ruler_tt
		change_adm = 1
		change_dip = 1
		change_mil = 1
        
		if = {
			limit = {
				OR = {
                    has_reform = noble_republic_reform
                    has_reform = mercantile_republic_reform
                }
				NOT = { republican_tradition = 20 }
			}
			add_government_reform = despotic_republic_reform	
		}	
        
		add_scaled_republican_tradition = -10
        
		random_list = {
			10 = {
				add_adm_power = 50
			}
			10 = {
				add_dip_power = 50
			}
			10 = {
				add_mil_power = 50
			}
		}
	}
    option = {
		name = wwu_government.2.option.e
		trigger = {
			has_government_attribute = enables_family_candidate_for_elections
		}
		ai_chance = { factor = 10 }
        
		add_scaled_republican_tradition = -4
        
        define_ruler = {
            mil = -2
            adm = -2
            dip = -2
            min_age = 30
            max_age = 50
            name = "lastname"
            random_gender = yes # Allows random gender for republics
        }
        
        if = {
            limit = {
                has_government_attribute = enables_pirate_retirement
            }
            
            award_pirate_retirement_bonuses = yes
        }
	}
    
    after = {
        if = {
            limit = {
                has_reform = wwu_election_cycle_puppetmasters
            }
            
            country_event = { id = wwu_government.13 days = 7 }
        }
        
        if = {
            limit = {
                has_government_attribute = enables_spoiled_victor_event
            }
            
            country_event = { id = wwu_pirate_government.1 days = 7 }
        }
    }
}

# On Replace Governor
country_event = {
	id = wwu_government.3
	title = wwu_government.3.title
	desc = wwu_government.3.desc
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = wwu_government.3.option.a
		ai_chance = { factor = 20 }
		FROM = {
			define_ruler = {
                adm = 4
                dip = 1
                mil = 1
                hide_skills = yes
            }
			set_ruler_flag = appointed_by_overlord
            
            add_republican_tradition = 5
		}
	}
	option = {
		name = wwu_government.3.option.b
		ai_chance = { factor = 20 }
		FROM = {
			define_ruler = {
                adm = 1
                dip = 4
                mil = 1
                hide_skills = yes
            }
			set_ruler_flag = appointed_by_overlord
            
            add_republican_tradition = 5
		}
	}
	option = {
		name = wwu_government.3.option.c
		ai_chance = { factor = 20 }
		FROM = {
			define_ruler = {
                adm = 1
                dip = 1
                mil = 4
                hide_skills = yes
            }
			set_ruler_flag = appointed_by_overlord
            
            add_republican_tradition = 5
		}
	}
    
    after = {
        if = {
            limit = {
                has_reform = wwu_election_cycle_puppetmasters
            }
            
            country_event = { id = wwu_government.13 days = 7 }
        }
        
        if = {
            limit = {
                has_government_attribute = enables_spoiled_victor_event
            }
            
            country_event = { id = wwu_pirate_government.1 days = 7 }
        }
    }
}

# Ruled by Despot
country_event = {
	id = wwu_government.4
	title = wwu_government.4.title
	desc = wwu_government.4.desc
	picture = DEBATE_REPUBLICAN_eventPicture
	
	trigger = {
		government = republic
		is_colonial_nation = no
		OR = {
			AND = {
				NOT = { republican_tradition = 40 }
				has_dlc = "Res Publica"
			}
			NOT = { republican_tradition = 1 }
		}
	}
	
	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 0.5
			NOT = { republican_tradition = 30 }
		}
		modifier = {
			factor = 0.5
			NOT = { republican_tradition = 20 }
		}
		modifier = {
			factor = 0.5
			NOT = { republican_tradition = 10 }
		}		
		modifier = {
			factor = 0.01
			NOT = { republican_tradition = 1 }
		}			
	}
	
	immediate = {
		hidden_effect = {
			add_government_reform = despotic_republic_reform
		}
	}
	
	option = {
		name = wwu_government.4.option.a
		tooltip = {
			add_government_reform = despotic_republic_reform
		}
	}
}

# Lottery Election
country_event = {
	id = wwu_government.5
	title = wwu_government.5.title
	desc = wwu_government.5.desc
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = lottery_election
	}
	
	immediate = {
		hidden_effect = {
			define_exiled_ruler = {
                exiled_as = lottery_candidate_a_@ROOT
                random_gender = yes
                min_age = 50
                max_age = 75
                adm = 2
                dip = -1
                mil = -1
                option = 0
            }
            define_exiled_ruler = {
                exiled_as = lottery_candidate_b_@ROOT
                min_age = 50
                max_age = 75
                adm = -1
                dip = 2
                mil = -1
                random_gender = yes
                option = 1
            }
            define_exiled_ruler = {
                exiled_as = lottery_candidate_c_@ROOT
                min_age = 50
                max_age = 75
                adm = -1
                dip = -1
                mil = 2
                random_gender = yes
                option = 2
            }
		}
	}
	
	after = {
		clear_exiled_ruler = lottery_candidate_a_@ROOT
		clear_exiled_ruler = lottery_candidate_b_@ROOT
		clear_exiled_ruler = lottery_candidate_c_@ROOT
	}
	
	option = {
		name = wwu_government.5.option.a
		ai_chance = {
			factor = 0
		}
		set_ruler = lottery_candidate_a_@ROOT
		add_republican_tradition = -25
		custom_tooltip = lottery_candidate_bonus_one
	}
	option = {
		name = wwu_government.5.option.b
		ai_chance = {
			factor = 0
		}
		set_ruler = lottery_candidate_b_@ROOT
		add_republican_tradition = -25
		custom_tooltip = lottery_candidate_bonus_one
	}
	option = {
		name = wwu_government.5.option.c
		ai_chance = {
			factor = 0
		}
		set_ruler = lottery_candidate_c_@ROOT
		add_republican_tradition = -25
		custom_tooltip = lottery_candidate_bonus_one
	}
	option = { # lottery
		name = wwu_government.5.option.d
		ai_chance = {
			factor = 90
		}
		random_list = {
			33 = { 
				set_ruler = lottery_candidate_a_@ROOT 
			}
			33 = { 
				set_ruler = lottery_candidate_b_@ROOT 
			}
			33 = { 
				set_ruler = lottery_candidate_c_@ROOT 
			}
		}
		custom_tooltip = lottery_candidate_bonus_plural
	}
	option = {
		name = wwu_government.5.option.e
		trigger = {
			has_government_attribute = enables_family_candidate_for_elections
		}
		ai_chance = { factor = 10 }
        
        add_republican_tradition = -15
		
		define_ruler = {
            min_age = 30
            max_age = 50
            mil = -1
            adm = -1
            dip = -1
            name = "lastname"
            random_gender = yes
        }
	}
    
    after = {
        if = {
            limit = {
                has_reform = wwu_election_cycle_puppetmasters
            }
            
            country_event = { id = wwu_government.13 days = 7 }
        }
        
        if = {
            limit = {
                has_government_attribute = enables_spoiled_victor_event
            }
            
            country_event = { id = wwu_pirate_government.1 days = 7 }
        }
    }
}

# "Call for Abdication"
country_event = {
	id = wwu_government.6
	title = wwu_government.6.title
	desc = wwu_government.6.desc
	picture = ELECTION_REPUBLICAN_eventPicture
	
	trigger = {
		OR = {
            has_reform = ancient_theocracy_reform
            has_reform = ancient_clan_reform
        }
        
		months_of_ruling = 120
        
        NOT = { legitimacy_equivalent = 50 }
        NOT = { stability = 1 }
        
		if = {
            limit = {
                has_estate = estate_nobility
            }
            
            NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 35
				}
			}
        }
	}
	
	mean_time_to_happen = {
		months = 360
        
		# Stability
		modifier = {
			NOT = { stability = 0 }
			
			factor = 0.9
		}
		modifier = {
			NOT = { stability = -1 }
			
			factor = 0.9
		}
		modifier = {
			NOT = { stability = -2 }
			
			factor = 0.9
		}
		# Elders
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 40
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 35
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 30
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 25
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 20
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 15
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 10
				}
			}
			factor = 0.95
		}
		modifier = {
			NOT = { 
				estate_loyalty = {
					estate = estate_nobility
					loyalty = 5
				}
			}
			factor = 0.95
		}
		
	}
	
	option = {
		name = wwu_government.6.option.a
		
		exile_ruler_as = old_ruler
		custom_tooltip = ancient_ruler_abdicates_tt
	}
	
	option = {
		name = wwu_government.6.option.b
		
		add_prestige = -10
		add_militarised_society = -10
		add_stability = -1
		ai_chance = { factor = 0 }
	}
}

# "New Rulership"
country_event = {
	id = wwu_government.7
	title = wwu_government.7.title
	desc = wwu_government.7.desc
	picture = DEBATE_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		NOT = { has_ruler_flag = is_immortal }
		has_government_attribute = council_system
	}

	option = {
		name = wwu_government.7.option.a
        
		trigger = {
			has_adm_advisor = yes
		}
		use_adm_talent_on_country = yes
		hidden_effect = {
			export_to_variable = {
				which = adv_rel
				value = dip_advisor_religion
			}
			export_to_variable = {
				which = adv_cul
				value = dip_advisor_culture
			}
		}
		define_ruler = {
			adm = 3
			religion = variable:adv_rel
			culture = variable:adv_cul
			claim = 75
		}
	}
	
	option = {
		name = wwu_government.7.option.b
        
		trigger = {
			has_dip_advisor = yes
		}
		use_dip_talent_on_country = yes
		
		hidden_effect = {
			export_to_variable = {
				which = adv_rel
				value = dip_advisor_religion
			}
			export_to_variable = {
				which = adv_cul
				value = dip_advisor_culture
			}
		}
		define_ruler = {
			dip = 3
			religion = variable:adv_rel
			culture = variable:adv_cul
			claim = 75
		}
	}
	
	option = {
		name = wwu_government.7.option.c
        
		trigger = {
			has_mil_advisor = yes
		}
		use_mil_talent_on_country = yes
		
		hidden_effect = {
			export_to_variable = {
				which = adv_rel
				value = mil_advisor_religion
			}
			export_to_variable = {
				which = adv_cul
				value = mil_advisor_culture
			}
		}
		define_ruler = {
			mil = 3
			religion = variable:adv_rel
			culture = variable:adv_cul
			claim = 75
		}
	}
	
	option = {
		name = wwu_government.7.option.d
        
		trigger = {
			NOT = { has_adm_advisor = yes }
			NOT = { has_dip_advisor = yes }
			NOT = { has_mil_advisor = yes }
		}
		export_to_variable = {
			which = adv_rel
			value = mil_advisor_religion
		}
		export_to_variable = {
			which = adv_cul
			value = mil_advisor_culture
		}
		define_ruler = {
			adm = 2
			dip = 2
			mil = 2
			claim = 75
		}
	}
}

# "Court Disposition"
country_event = {
	id = wwu_government.8
	title = wwu_government.8.title
	desc = wwu_government.8.desc
	picture = DEBATE_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_court_disposition_event
	}

	option = {
		name = wwu_government.8.option.a
        
		add_ruler_modifier = {
            name = administrative_council
            duration = -1
        }
	}
	
	option = {
		name = wwu_government.8.option.b
        
        add_ruler_modifier = {
            name = diplomatic_council
            duration = -1
        }
	}
	
	option = {
		name = wwu_government.8.option.c
        
		add_ruler_modifier = {
            name = war_council
            duration = -1
        }
	}
	
	option = {
		name = wwu_government.8.option.d
        
		add_ruler_modifier = {
            name = religious_council
            duration = -1
        }
	}
    
    option = {
		name = wwu_government.8.option.e
        
		add_ruler_modifier = {
            name = occult_council
            duration = -1
        }
	}
}

# "Decadence"
country_event = {
	id = wwu_government.9
	title = wwu_government.9.title
	desc = wwu_government.9.desc
	picture = DEBATE_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_decadence_event
	}

    # Drunk and Disorderly
	option = {
		name = wwu_government.9.option.a
        
		add_ruler_modifier = {
            name = decadence_drunk
            duration = 3650
        }
	}
	
    # Degenerate Behavior
	option = {
		name = wwu_government.9.option.b
        
        add_ruler_modifier = {
            name = decadence_degenerate
            duration = 3650
        }
	}
	
    # Gluttonous Appetite
	option = {
		name = wwu_government.9.option.c
        
		add_ruler_modifier = {
            name = decadence_glutton
            duration = 3650
        }
	}
	
    # Vain Attitude
	option = {
		name = wwu_government.9.option.d
        
		add_ruler_modifier = {
            name = decadence_vain
            duration = -1
        }
	}
}

# "Heir Apparent"
country_event = {
	id = wwu_government.10
	title = wwu_government.10.title
	desc = wwu_government.10.desc
	picture = DEBATE_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_heir_apparent_event
	}

    # Support the elder heir
	option = {
		name = wwu_government.10.option.a
        
		define_heir = {
            age = 40
            claim = 100
            hide_skills = yes
        }
	}
	
    # Continue with the current heir
	option = {
		name = wwu_government.10.option.b
        
        add_heir_claim = -50
        add_stability = -1
	}
}

# "Gavelkind Succession"
country_event = {
	id = wwu_government.11
	title = wwu_government.11.title
	desc = wwu_government.11.desc
	picture = IMPORTANT_STATUE_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_gavelkind_succession_event
	}

    # Grant shares of the estate fully
	option = {
		name = wwu_government.11.option.a
        
		every_owned_province = {
            limit = {
                NOT = { is_capital = yes }
            }
            add_local_autonomy = 50
        }
	}
	
    # Grant shares of the estate in part
	option = {
		name = wwu_government.11.option.b
        
        every_owned_province = {
            limit = {
                NOT = { is_capital = yes }
            }
            add_local_autonomy = 25
        }
        
        add_stability = -1
	}
    
    # Refuse to grant shares of the estate
	option = {
		name = wwu_government.11.option.c
        
        add_stability = -6
	}
}

# "Puppet Ruler"
country_event = {
	id = wwu_government.12
	title = wwu_government.12.title
	desc = wwu_government.12.desc
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_puppet_event
	}

	option = {
		name = wwu_government.12.option.a
        
		add_ruler_modifier = {
            name = puppet_ruler
            duration = -1
        }
	}
}

# "Power Brokers"
country_event = {
	id = wwu_government.13
	title = wwu_government.13.title
	desc = wwu_government.13.desc
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_bonus_on_relection_event
	}
    
    immediate = {
        # Remove old focus upon re-election
        hidden_effect = {
            remove_country_modifier = power_broker_espionage
            remove_country_modifier = power_broker_foreign_influence
            remove_country_modifier = power_broker_conquest
            remove_country_modifier = power_broker_domination
        }
    }

	option = {
		name = wwu_government.13.option.a
        
		add_ruler_modifier = {
            name = power_broker_espionage
            duration = -1
        }
	}
    
    option = {
		name = wwu_government.13.option.b
        
		add_ruler_modifier = {
            name = power_broker_foreign_influence
            duration = -1
        }
	}
    
    option = {
		name = wwu_government.13.option.c
        
		add_ruler_modifier = {
            name = power_broker_conquest
            duration = -1
        }
	}
    
    option = {
		name = wwu_government.13.option.d
        
		add_ruler_modifier = {
            name = power_broker_domination
            duration = -1
        }
	}
}

# "Organisational Focus"
country_event = {
	id = wwu_government.14
	title = wwu_government.14.title
	desc = wwu_government.14.desc
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_government_attribute = enables_organisational_focus_event
	}
    
    immediate = {
        # Remove old focus upon re-firing
        hidden_effect = {
            remove_country_modifier = organisational_focus_espionage
            remove_country_modifier = organisational_focus_welfare
            remove_country_modifier = organisational_focus_economy
            remove_country_modifier = organisational_focus_politics
            remove_country_modifier = organisational_focus_military
            remove_country_modifier = organisational_focus_diplomacy
        }
    }

	option = {
		name = wwu_government.14.option.a
        
		add_ruler_modifier = {
            name = organisational_focus_espionage
            duration = 1825
        }
	}
    
    option = {
		name = wwu_government.14.option.b
        
		add_ruler_modifier = {
            name = organisational_focus_welfare
            duration = 1825
        }
	}
    
    option = {
		name = wwu_government.14.option.c
        
		add_ruler_modifier = {
            name = organisational_focus_economy
            duration = 1825
        }
	}
    
    option = {
		name = wwu_government.14.option.d
        
		add_ruler_modifier = {
            name = organisational_focus_politics
            duration = 1825
        }
	}
    
    option = {
		name = wwu_government.14.option.e
        
		add_ruler_modifier = {
            name = organisational_focus_military
            duration = 1825
        }
	}
    
    option = {
		name = wwu_government.14.option.f
        
		add_ruler_modifier = {
            name = organisational_focus_diplomacy
            duration = 1825
        }
	}
}

# Tribal Vote
country_event = {
	id = wwu_government.15
	title = wwu_government.15.title
	desc = wwu_government.15.desc
	picture = GOBLIN_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_government_attribute = enables_tribal_vote
	}
	
	option = {
		name = wwu_government.15.option.a

		define_ruler = {
			adm = 4
			dip = 2
			mil = 2
			hide_skills = yes
            age = 40
		}
		
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = wwu_government.15.option.b

		define_ruler = {
			adm = 3
			dip = 3
			mil = 3
			hide_skills = yes
		}
		
		ai_chance = {
			factor = 100
		}
	}
    
    option = {
		name = wwu_government.15.option.c

		define_ruler = {
			adm = 1
			dip = 1
			mil = 5
			hide_skills = yes
		}
		
		ai_chance = {
			factor = 100
		}
	}
    
    after = {
        # Fire these after this event since they should only apply to the actual new ruler
        country_event = { id = wwu_ruler_education.1 days = 7 } # The Education of [Root.Monarch.GetName]
        country_event = { id = wwu_ruler_education.2 days = 7 } # Ascension of [Root.Monarch.GetName]
        country_event = { id = wwu_government.8 days = 7 }      # Court Disposition
    }
}

# Warsong!
country_event = {
	id = wwu_government.16
	title = wwu_government.16.title
	desc = wwu_government.16.desc
	picture = BLOODLUST_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_government_attribute = enables_warsong_event
	}
	
	option = {
		name = wwu_government.16.option.a

		add_country_modifier = {
            name = song_of_unity
            duration = 1800
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    option = {
		name = wwu_government.16.option.b

		add_country_modifier = {
            name = song_of_war
            duration = 1800
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    option = {
		name = wwu_government.16.option.c

		add_country_modifier = {
            name = song_of_victory
            duration = 1800
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    option = {
		name = wwu_government.16.option.d

		add_country_modifier = {
            name = song_of_battle
            duration = 1800
        }
		
		ai_chance = {
			factor = 25
		}
	}
}

# Zanchuli Council
country_event = {
	id = wwu_government.17
	title = wwu_government.17.title
	desc = wwu_government.17.desc
	picture = TROLL_MASK_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_reform = zandalari_empire_reform
	}
	
    # A Prophet shall lead us!
	option = {
		name = wwu_government.17.option.a

		define_ruler = {
            adm = 3
            min_age = 40
            hide_skills = yes
            random_gender = yes
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    # A High Priestess shall lead us!
	option = {
		name = wwu_government.17.option.b

		define_ruler = {
            dip = 3
            min_age = 40
            hide_skills = yes
            female = yes
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    # A Champion shall lead us!
	option = {
		name = wwu_government.17.option.c

		define_ruler = {
            mil = 3
            min_age = 40
            hide_skills = yes
            random_gender = yes
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    # A Hexlord shall lead us!
	option = {
		name = wwu_government.17.option.d

		define_ruler = {
            dip = 2
            mil = 2
            min_age = 20
            hide_skills = yes
            random_gender = yes
        }
        
		ai_chance = {
			factor = 25
		}
	}
    
    # A High Prelate shall lead us!
	option = {
		name = wwu_government.17.option.e

		define_ruler = {
            adm = -2
            dip = -2
            mil = 5
            min_age = 60
            hide_skills = yes
            random_gender = yes
        }
        
		ai_chance = {
			factor = 25
		}
	}
    
    # Spawn pretenders if legitimacy is low
    after = {
        hidden_effect = {
            if = {
                limit = {
                    NOT = { legitimacy = 15 }
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 3
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 2
                }
            }
            else_if = {
                limit = {
                    NOT = { legitimacy = 30 }
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 3
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 1
                }
            }
            else_if = {
                limit = {
                    NOT = { legitimacy = 45 }
                }
                random_owned_province = {
                    limit = { 
                        NOT = { is_in_capital_area = yes }
                    }
                    pretender_rebels = 3
                }
            }
            else_if = {
                limit = {
                    NOT = { legitimacy = 60 }
                }
                random_owned_province = {
                    limit = { 
                        NOT = { is_in_capital_area = yes }
                    }
                    pretender_rebels = 2
                }
            }
            else = {
                random_owned_province = {
                    limit = { 
                        NOT = { is_in_capital_area = yes }
                    }
                    pretender_rebels = 1
                }
            }
        }
    }
}

# G'huun's Chosen
country_event = {
	id = wwu_government.18
	title = wwu_government.18.title
	desc = wwu_government.18.desc
	picture = TROLL_BERSERKER_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_reform = blood_matriarchy_reform
	}
	
    # An Elder shall lead us!
	option = {
		name = wwu_government.18.option.a

		define_ruler = {
            adm = 5
            dip = -2
            mil = -2
            hide_skills = yes
            female = yes
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    # A High Priestess shall lead us!
	option = {
		name = wwu_government.18.option.b

		define_ruler = {
            dip = 5
            adm = -2
            mil = -2
            hide_skills = yes
            female = yes
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    # A Warmother shall lead us!
	option = {
		name = wwu_government.18.option.c

		define_ruler = {
            mil = 5
            adm = -2
            dip = -2
            hide_skills = yes
            female = yes
        }
		
		ai_chance = {
			factor = 25
		}
	}
    
    # Spawn pretenders if legitimacy is low
    after = {
        hidden_effect = {
            if = {
                limit = {
                    NOT = { devotion = 15 }
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 3
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 2
                }
            }
            else_if = {
                limit = {
                    NOT = { devotion = 30 }
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 3
                }
                random_owned_province = {
                    limit = { 
                        is_in_capital_area = yes
                    }
                    pretender_rebels = 1
                }
            }
            else_if = {
                limit = {
                    NOT = { devotion = 45 }
                }
                random_owned_province = {
                    limit = { 
                        NOT = { is_in_capital_area = yes }
                    }
                    pretender_rebels = 3
                }
            }
            else_if = {
                limit = {
                    NOT = { devotion = 60 }
                }
                random_owned_province = {
                    limit = { 
                        NOT = { is_in_capital_area = yes }
                    }
                    pretender_rebels = 2
                }
            }
            else = {
                random_owned_province = {
                    limit = { 
                        NOT = { is_in_capital_area = yes }
                    }
                    pretender_rebels = 1
                }
            }
        }
    }
}

# Scourge Government
country_event = {
	id = wwu_government.19
	title = wwu_government.19.title
	desc = wwu_government.19.desc
	picture = UNDEAD_eventPicture
	
	trigger = {
		OR = {
            has_reform = scourge_reform
            has_reform = scourge_domain_reform
        }
		has_heir = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	#Generic
	option = {
		name = wwu_government.19.option.a
		
		define_heir = {
			age = 30
			max_random_adm = 4
			max_random_dip = 4
			max_random_mil = 4
		}
	}
	
	# Vassals
	option = {
		name = wwu_government.19.option.b
		
		trigger = {
			num_of_subjects = 1
			NOT = { num_of_subjects = 2 }
		}
		define_heir = {
			age = 30
			adm = 1
			dip = 1
		}
		every_subject_country = {
			add_yearly_manpower = 0.5
		}
	}
	
	option = {
		name = wwu_government.19.option.c
		
		trigger = {
			num_of_subjects = 2
			NOT = { num_of_subjects = 3 }
		}
		define_heir = {
			age = 30
			adm = 2
			dip = 2
		}
		every_subject_country = {
			add_yearly_manpower = 0.5
		}
	}
	
	option = {
		name = wwu_government.19.option.d
		
		trigger = {
			num_of_subjects = 3
			NOT = { num_of_subjects = 4 }
		}
		define_heir = {
			age = 30
			adm = 3
			dip = 3
		}
		every_subject_country = {
			add_yearly_manpower = 0.5
		}
	}
	
	option = {
		name = wwu_government.19.option.e
		
		trigger = {
			num_of_subjects = 4
		}
		define_heir = {
			age = 30
			adm = 4
			dip = 4
		}
		every_subject_country = {
			add_yearly_manpower = 0.5
		}
	}
	# Num. of Cultures
	option = {
		name = wwu_government.19.option.f
		
		trigger = {
			num_accepted_cultures = 1
			NOT = { num_accepted_cultures = 3 }
		}
		define_heir = {
			age = 30
			adm = 1
			mil = 1
		}
		add_legitimacy = 15
	}
	
	option = {
		name = wwu_government.19.option.g
		
		trigger = {
			num_accepted_cultures = 3
			NOT = { num_accepted_cultures = 5 }
		}
		define_heir = {
			age = 30
			adm = 2
			mil = 2
		}
		add_legitimacy = 15
	}
	
	option = {
		name = wwu_government.19.option.h
		
		trigger = {
			num_accepted_cultures = 5
			NOT = { num_accepted_cultures = 7 }
		}
		define_heir = {
			age = 30
			adm = 3
			mil = 3
		}
		add_legitimacy = 15
	}
	
	option = {
		name = wwu_government.19.option.i
		
		trigger = {
			num_accepted_cultures = 7
		}
		define_heir = {
			age = 30
			adm = 4
			mil = 4
		}
		add_legitimacy = 15
	}
	# num of Allies
	option = {
		name = wwu_government.19.option.j
		
		trigger = {
			num_of_allies = 1
			NOT = { num_of_allies = 2 }
		}
		define_heir = {
			age = 30
			dip = 1
			mil = 1
		}
	}
	
	option = {
		name = wwu_government.19.option.k
		
		trigger = {
			num_of_allies = 2
			NOT = { num_of_allies = 3 }
		}
		define_heir = {
			age = 30
			dip = 2
			mil = 2
		}
	}
	
	option = {
		name = wwu_government.19.option.l
		
		trigger = {
			num_of_allies = 3
			NOT = { num_of_allies = 4 }
		}
		define_heir = {
			age = 30
			dip = 3
			mil = 3
		}
	}
	
	option = {
		name = wwu_government.19.option.m
		
		trigger = {
			num_of_allies = 4
		}
		define_heir = {
			age = 30
			dip = 4
			mil = 4
		}
	}
}

# Update Event - Liege and Nobles
country_event = {
	id = wwu_government.100
	title = wwu_government.100.title
	desc = wwu_government.100.desc
	picture = IMPORTANT_STATUE_eventPicture

    hidden = yes
    
	trigger = {
		has_reform = wwu_assembly_checks_and_balances
	}

    mean_time_to_happen = {
		months = 24
	}
    
	option = {
		name = wwu_government.100.option.a
        
        # Liege
		if = {
            limit = {
                legitimacy = 50
            }
            change_statists_vs_monarchists = 0.03
        }
        if = {
            limit = {
                prestige = 50
            }
            change_statists_vs_monarchists = 0.03
        }
        if = {
            limit = {
                crown_land_share = 60
            }
            change_statists_vs_monarchists = 0.03
        }
        # Nobles
        if = {
            limit = {
                NOT = { legitimacy = 50 }
            }
            change_statists_vs_monarchists = -0.03
        }
        if = {
            limit = {
                corruption = 5
            }
            change_statists_vs_monarchists = -0.03
        }
        if = {
            limit = {
                NOT = { crown_land_share = 20 }
            }
            change_statists_vs_monarchists = -0.03
        }
        
        # General
        random_list = {
            25 = {
                change_statists_vs_monarchists = 0.01
            }
            25 = {
                change_statists_vs_monarchists = -0.01
            }
            50 = { }
        }
	}
}

# Update Event - Mundane and Mythical
country_event = {
	id = wwu_government.101
	title = wwu_government.101.title
	desc = wwu_government.101.desc
	picture = IMPORTANT_STATUE_eventPicture

    hidden = yes
    
	trigger = {
		has_reform = wwu_magic_magical_society
	}

    mean_time_to_happen = {
		months = 24
	}
    
	option = {
		name = wwu_government.101.option.a
        
        # Mythical
		if = {
            limit = {
                OR = {
                    ruler_has_personality = priest_personality
                    ruler_has_personality = mage_personality
                    ruler_has_personality = warlock_personality
                    ruler_has_personality = shaman_personality
                    has_ruler_modifier = spellcaster_capabilities
                }
            }
            change_statists_vs_monarchists = 0.03
        }
        # Mundane
        if = {
            limit = {
                OR = {
                    ruler_has_personality = warrior_personality
                    ruler_has_personality = paladin_personality
                    ruler_has_personality = rogue_personality
                    ruler_has_personality = druid_personality
                    ruler_has_personality = hunter_personality
                    ruler_has_personality = death_knight_personality
                    ruler_has_personality = monk_personality
                    ruler_has_personality = demon_hunter_personality
                }
            }
            change_statists_vs_monarchists = -0.03
        }
        
        # General
        random_list = {
            25 = {
                change_statists_vs_monarchists = 0.01
            }
            25 = {
                change_statists_vs_monarchists = -0.01
            }
            50 = { }
        }
	}
}

# Update Event - Reformists and Conservatives
country_event = {
	id = wwu_government.102
	title = wwu_government.102.title
	desc = wwu_government.102.desc
	picture = IMPORTANT_STATUE_eventPicture

    hidden = yes
    
	trigger = {
		has_reform = wwu_separation_of_powers_autonomous_institutions
	}

    mean_time_to_happen = {
		months = 24
	}
    
	option = {
		name = wwu_government.102.option.a
        
        # Conservatives
		if = {
            limit = {
                NOT = { republican_tradition = 50 }
            }
            change_statists_vs_monarchists = 0.03
        }
        if = {
            limit = {
                corruption = 2
            }
            change_statists_vs_monarchists = 0.03
        }
        if = {
            limit = {
                average_autonomy = 20
            }
            change_statists_vs_monarchists = 0.03
        }
        
        # Reformists
        if = {
            limit = {
                republican_tradition = 50
            }
            change_statists_vs_monarchists = -0.03
        }
        if = {
            limit = {
                NOT = { corruption = 2 }
            }
            change_statists_vs_monarchists = -0.03
        }
        if = {
            limit = {
                NOT = { average_autonomy = 20 }
            }
            change_statists_vs_monarchists = -0.03
        }
        
        # General
        random_list = {
            25 = {
                change_statists_vs_monarchists = 0.01
            }
            25 = {
                change_statists_vs_monarchists = -0.01
            }
            50 = { }
        }
	}
}

# Update Event - Military and Navy
country_event = {
	id = wwu_government.103
	title = wwu_government.103.title
	desc = wwu_government.103.desc
	picture = IMPORTANT_STATUE_eventPicture

    hidden = yes
    
	trigger = {
		has_reform = wwu_republican_institution_politicized_warfare
	}

    mean_time_to_happen = {
		months = 24
	}
    
	option = {
		name = wwu_government.103.option.a
        
        # Navy
		if = {
            limit = {
                army_size_percentage = 0.5
            }
            change_statists_vs_monarchists = 0.03
        }
        if = {
            limit = {
                manpower_percentage = 0.75
            }
            change_statists_vs_monarchists = 0.03
        }
        if = {
            limit = {
                num_of_generals = 2
            }
            change_statists_vs_monarchists = 0.03
        }
        
        # Military
        if = {
            limit = {
                navy_size_percentage = 0.5
            }
            change_statists_vs_monarchists = -0.03
        }
        if = {
            limit = {
                sailors_percentage = 0.75
            }
            change_statists_vs_monarchists = -0.03
        }
        if = {
            limit = {
                num_of_admirals = 2
            }
            change_statists_vs_monarchists = -0.03
        }
        
        # General
        random_list = {
            25 = {
                change_statists_vs_monarchists = 0.01
            }
            25 = {
                change_statists_vs_monarchists = -0.01
            }
            50 = { }
        }
	}
}

# Update Event - Zealots and Fanatics
country_event = {
	id = wwu_government.104
	title = wwu_government.104.title
	desc = wwu_government.104.desc
	picture = IMPORTANT_STATUE_eventPicture

    hidden = yes
    
	trigger = {
		has_reform = wwu_fanaticism_embraced
	}

    mean_time_to_happen = {
		months = 24
	}
    
	option = {
		name = wwu_government.104.option.a

        # General
        random_list = {
            25 = {
                change_statists_vs_monarchists = 0.03
            }
            25 = {
                change_statists_vs_monarchists = -0.03
            }
            50 = { }
        }
	}
}

# Update Event - Lichborne vs Stitched
country_event = {
	id = wwu_government.105
	title = wwu_government.105.title
	desc = wwu_government.105.desc
	picture = IMPORTANT_STATUE_eventPicture

    hidden = yes
    
	trigger = {
		OR = {
            has_reform = scourge_reform
            has_reform = scourge_domain_reform
        }
	}

    mean_time_to_happen = {
		months = 24
	}
    
	option = {
		name = wwu_government.105.option.a

        # General
        random_list = { 
            # Stitched
            25 = {
                change_statists_vs_monarchists = 0.01
            }
            # Lichborne
            25 = {
                change_statists_vs_monarchists = -0.01
            }
            50 = { }
        }
	}
}