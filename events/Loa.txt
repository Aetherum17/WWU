namespace = loa

# Add Low Influence when a loa is picked.
country_event = {
	id = loa.1
	title = e_l
	desc = e_l
	picture = LOA_eventPicture
    
	trigger = {
		has_any_loa = yes
		NOT = { has_country_modifier = loa_low_influence }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
        name = e_l
		add_country_modifier = {
			name = loa_low_influence
			duration = -1
		}
	}
}
# Remove influences when a loa is removed.
country_event = {
	id = loa.2
	title = e_l
	desc = e_l
	picture = LOA_eventPicture
    
	trigger = {
		NOT = { has_any_loa = yes }
		NOT = { has_country_flag = keep_old_loa } # Adding this will prevent current loa's influence to get removed.
		OR = { 
			has_country_modifier = loa_low_influence 
			has_country_modifier = loa_mid_influence 
			has_country_modifier = loa_high_influence 
		}
	}
	
	is_triggered_only = yes
	
	option = {
        name = e_l
		remove_country_modifier = loa_low_influence 
		remove_country_modifier = loa_mid_influence 
		remove_country_modifier = loa_high_influence 
	}
}
# Notify influence increase
country_event = {
	id = loa.3
	title = loa.3.title
	desc = loa.3.desc
	picture = LOA_eventPicture
    
	is_triggered_only = yes
	
	option = {
        name = loa.3.opt1
	}
}
# Notify influence decrease
country_event = {
	id = loa.4
	title = loa.4.title
	desc = loa.4.desc
	picture = LOA_eventPicture
    
	is_triggered_only = yes
	
	option = {
        name = loa.4.opt1
	}
}

######################################
# --------- Generic Events --------- #
######################################
# ------ Low Influence Events ------ #
country_event = {
	id = loa.10
	title = loa.10.title
	desc = loa.10.desc
	picture = LOA_eventPicture
    
	trigger = {
		has_any_loa = yes
		has_country_modifier = loa_low_influence
		any_owned_province = {
			NOT = { has_province_modifier = shrine_to_loa } 
		}
	}
	
	is_triggered_only = yes
		
	option = {
        name = loa.10.opt1 # Build a small shrine for Loa
		add_years_of_income = -0.5
		random_owned_province = {
			limit = { NOT = { has_province_modifier = shrine_to_loa } }
			add_permanent_province_modifier = {
				name = shrine_to_loa
				duration = 7300
			}
		}
		random = { 
			chance = 20 

			increase_influence = yes
		}
	}
	option = {
        name = loa.10.opt2 # Build a small shrine for Loa
		add_years_of_income = -0.5
		random_owned_province = {
			limit = { NOT = { has_province_modifier = shrine_to_loa } }
			add_permanent_province_modifier = {
				name = shrine_to_loa
				duration = 7300
			}
		}
	}
}