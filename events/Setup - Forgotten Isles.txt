namespace = wwu_forgotten_isles

# Titanic Shrines - Setup
country_event = {
	id = wwu_forgotten_isles.1
	title = wwu_forgotten_isles.1.title
	desc = wwu_forgotten_isles.1.desc
	picture = TREASURE_MAP_eventPicture
	
	is_triggered_only = yes

    hidden = yes
	
	trigger = {
		ai = no
        NOT = { has_global_flag = setup_titan_shrines }
	}
	
	immediate = {
		set_global_flag = setup_titan_shrines
	}
	
	option = {
		name = wwu_forgotten_isles.1.option.a
        
        # Shrine of Knowledge
		random_province = {
            limit = {
                is_empty = yes
                region = region_glimmering_isles
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_knowledge
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Shrine of Glory
        random_province = {
            limit = {
                is_empty = yes
                region = region_ravaged_isles
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_glory
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Shrine of Unity
        random_province = {
            limit = {
                is_empty = yes
                region = region_verdant_isles
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_unity
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Shrine of Power
        random_province = {
            limit = {
                is_empty = yes
                region = region_shattered_isles
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_power
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Shrine of Order
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_order
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Shrine of Wisdom
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_wisdom
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Shrine of Control
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_shrine_of_control
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Titanic Foundry
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_production = 3
            add_permanent_province_modifier = {
                name = titanic_foundry
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Titanic Manufactory
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_production = 3
            add_permanent_province_modifier = {
                name = titanic_manufactory
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Titanic Library
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_tax = 2
            add_permanent_province_modifier = {
                name = titanic_library
                duration = -1
            }
            set_province_flag = province_bonus
        }
        
        # Titanic Outpost
        random_province = {
            limit = {
                is_empty = yes
                OR = {
                    region = region_glimmering_isles
                    region = region_ravaged_isles
                    region = region_verdant_isles
                    region = region_shattered_isles
                }
                NOT = { has_province_flag = province_bonus }
            }
            
            add_base_manpower = 3
            add_permanent_province_modifier = {
                name = titanic_outpost
                duration = -1
            }
            set_province_flag = province_bonus
        }
	}
}

