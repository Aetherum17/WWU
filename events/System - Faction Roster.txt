namespace = wwu_faction_roster

# Alliance Roster
country_event = {
	id = wwu_faction_roster.100
	title = wwu_faction_roster.100.title
	desc = wwu_faction_roster.100.desc
	picture = QUEST_FOR_EPIC_LOOT_eventPicture
    
    is_triggered_only = yes

    immediate = {
        custom_tooltip = ALLIANCE_HEAD_TT
        
        every_country = {
            limit = {
                has_country_modifier = head_of_alliance
            }
            custom_tooltip = EMPTY_TT
            custom_tooltip = EMPTY_TT
        }
        
        custom_tooltip = ALLIANCE_MEMBER_TT
        
        every_country = {
            limit = {
                has_country_modifier = member_of_alliance
            }
            custom_tooltip = EMPTY_TT
        }
    }
    
    # Demand Gold
    option = {
		name = wwu_faction_roster.100.option.a
        
        trigger = {
            has_country_modifier = head_of_alliance
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_alliance
                NOT = { has_country_modifier = head_of_alliance }
                treasury = 100
            }
            
            ROOT = { 
                add_years_of_income = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                treasury = 5000
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Manpower
    option = {
		name = wwu_faction_roster.100.option.b
        
        trigger = {
            has_country_modifier = head_of_alliance
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_alliance
                NOT = { has_country_modifier = head_of_alliance }
                manpower_percentage = 0.25
            }
            
            ROOT = { 
                add_yearly_manpower = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                manpower_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Sailors
    option = {
		name = wwu_faction_roster.100.option.c
        
        trigger = {
            has_country_modifier = head_of_alliance
            NOT = { has_country_modifier = recent_faction_demand }
        }

        every_country = {
            limit = {
                has_country_modifier = member_of_alliance
                NOT = { has_country_modifier = head_of_alliance }
                sailors_percentage = 0.25
            }
            
            ROOT = {
                add_yearly_sailors = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 50
            
            modifier = {
                factor = 0
                
                sailors_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Troops
    option = {
		name = wwu_faction_roster.100.option.d
        
        trigger = {
            has_country_modifier = head_of_alliance
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_alliance
                NOT = { has_country_modifier = head_of_alliance }
                army_size_percentage = 0.25
            }
            
            ROOT = {
                capital_scope = {
                    infantry = ROOT
                }
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                army_size_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Enforce War Participation
    option = {
		name = wwu_faction_roster.100.option.e
        
        trigger = {
            has_country_modifier = head_of_alliance
            is_at_war = yes
            any_country = {
                ai = yes
                has_country_modifier = member_of_alliance
                is_subject = no
                NOT = { is_at_war = yes }
            }
        }
        
        add_prestige = -10
        
        every_country = {
            limit = {
                ai = yes
                has_country_modifier = member_of_alliance
                NOT = { has_country_modifier = head_of_alliance }
                is_subject = no
                NOT = { is_at_war = yes }
            }
            
            join_all_offensive_wars_of = ROOT
            join_all_defensive_wars_of = ROOT
        }
        
        ai_chance = {
            factor = 100
        }
	}
    
	option = {
		name = wwu_faction_roster.100.option.x
        
        ai_chance = {
            factor = 1
        }
	}
}

# Horde Roster
country_event = {
	id = wwu_faction_roster.101
	title = wwu_faction_roster.101.title
	desc = wwu_faction_roster.101.desc
	picture = QUEST_FOR_EPIC_LOOT_eventPicture
    
    is_triggered_only = yes

    immediate = {
        custom_tooltip = HORDE_HEAD_TT
        
        every_country = {
            limit = {
                has_country_modifier = head_of_horde
            }
            custom_tooltip = EMPTY_TT
            custom_tooltip = EMPTY_TT
        }
        
        custom_tooltip = HORDE_MEMBER_TT
        
        every_country = {
            limit = {
                has_country_modifier = member_of_horde
            }
            custom_tooltip = EMPTY_TT
        }
    }
    
    # Demand Gold
    option = {
		name = wwu_faction_roster.101.option.a
        
        trigger = {
            has_country_modifier = head_of_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_horde
                NOT = { has_country_modifier = head_of_horde }
                treasury = 100
            }
            
            ROOT = { 
                add_years_of_income = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                treasury = 5000
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Manpower
    option = {
		name = wwu_faction_roster.101.option.b
        
        trigger = {
            has_country_modifier = head_of_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }

        every_country = {
            limit = {
                has_country_modifier = member_of_horde
                NOT = { has_country_modifier = head_of_horde }
                manpower_percentage = 0.25
            }
            
            ROOT = { 
                add_yearly_manpower = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                manpower_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Sailors
    option = {
		name = wwu_faction_roster.101.option.c
        
        trigger = {
            has_country_modifier = head_of_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
         
        every_country = {
            limit = {
                has_country_modifier = member_of_horde
                NOT = { has_country_modifier = head_of_horde }
                sailors_percentage = 0.25
            }
            
            ROOT = {
                add_yearly_sailors = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 50
            
            modifier = {
                factor = 0
                
                sailors_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Troops
    option = {
		name = wwu_faction_roster.101.option.d
        
        trigger = {
            has_country_modifier = head_of_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_horde
                NOT = { has_country_modifier = head_of_horde }
                army_size_percentage = 0.25
            }
            
            ROOT = {
                capital_scope = {
                    infantry = ROOT
                }
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                army_size_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Enforce War Participation
    option = {
		name = wwu_faction_roster.101.option.e
        
        trigger = {
            has_country_modifier = head_of_horde
            is_at_war = yes
            any_country = {
                ai = yes
                has_country_modifier = member_of_horde
                is_subject = no
                NOT = { is_at_war = yes }
            }
        }
        
        add_prestige = -10
        
        every_country = {
            limit = {
                ai = yes
                has_country_modifier = member_of_horde
                NOT = { has_country_modifier = head_of_horde }
                is_subject = no
                NOT = { is_at_war = yes }
            }
            
            join_all_offensive_wars_of = ROOT
            join_all_defensive_wars_of = ROOT
        }
        
        ai_chance = {
            factor = 100
        }
	}
    
	option = {
		name = wwu_faction_roster.101.option.x
        
        ai_chance = {
            factor = 1
        }
	}
}

# Old Horde Roster
country_event = {
	id = wwu_faction_roster.102
	title = wwu_faction_roster.102.title
	desc = wwu_faction_roster.102.desc
	picture = QUEST_FOR_EPIC_LOOT_eventPicture
    
    is_triggered_only = yes

    immediate = {
        custom_tooltip = HORDE_HEAD_TT
        
        every_country = {
            limit = {
                has_country_modifier = head_of_old_horde
            }
            custom_tooltip = EMPTY_TT
            custom_tooltip = EMPTY_TT
        }
        
        custom_tooltip = HORDE_MEMBER_TT
        
        every_country = {
            limit = {
                has_country_modifier = member_of_old_horde
            }
            custom_tooltip = EMPTY_TT
        }
    }
    
    # Demand Gold
    option = {
		name = wwu_faction_roster.102.option.a
        
        trigger = {
            has_country_modifier = head_of_old_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_old_horde
                NOT = { has_country_modifier = head_of_old_horde }
                treasury = 100
            }
            
            ROOT = { 
                add_years_of_income = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                treasury = 5000
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Manpower
    option = {
		name = wwu_faction_roster.102.option.b
        
        trigger = {
            has_country_modifier = head_of_old_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_old_horde
                NOT = { has_country_modifier = head_of_old_horde }
                manpower_percentage = 0.25
            }
            
            ROOT = { 
                add_yearly_manpower = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                manpower_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Sailors
    option = {
		name = wwu_faction_roster.102.option.c
        
        trigger = {
            has_country_modifier = head_of_old_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_old_horde
                NOT = { has_country_modifier = head_of_old_horde }
                sailors_percentage = 0.25
            }
            
            ROOT = {
                add_yearly_sailors = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 50
            
            modifier = {
                factor = 0
                
                sailors_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Troops
    option = {
		name = wwu_faction_roster.102.option.d
        
        trigger = {
            has_country_modifier = head_of_old_horde
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_old_horde
                NOT = { has_country_modifier = head_of_old_horde }
                army_size_percentage = 0.25
            }
            
            ROOT = {
                capital_scope = {
                    infantry = ROOT
                }
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                army_size_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Enforce War Participation
    option = {
		name = wwu_faction_roster.102.option.e
        
        trigger = {
            has_country_modifier = head_of_old_horde
            is_at_war = yes
            any_country = {
                ai = yes
                has_country_modifier = member_of_old_horde
                is_subject = no
                NOT = { is_at_war = yes }
            }
        }
        
        add_prestige = -10
        
        every_country = {
            limit = {
                ai = yes
                has_country_modifier = member_of_old_horde
                NOT = { has_country_modifier = head_of_old_horde }
                is_subject = no
                NOT = { is_at_war = yes }
            }
            
            join_all_offensive_wars_of = ROOT
            join_all_defensive_wars_of = ROOT
        }
        
        ai_chance = {
            factor = 100
        }
	}
    
	option = {
		name = wwu_faction_roster.102.option.x
        
        ai_chance = {
            factor = 1
        }
	}
}

# Trade Coalition Roster
country_event = {
	id = wwu_faction_roster.103
	title = wwu_faction_roster.103.title
	desc = wwu_faction_roster.103.desc
	picture = QUEST_FOR_EPIC_LOOT_eventPicture
    
    is_triggered_only = yes

    immediate = {
        custom_tooltip = TRADE_COALITION_HEAD_TT
        
        every_country = {
            limit = {
                has_country_modifier = head_of_trade_coalition
            }
            custom_tooltip = EMPTY_TT
            custom_tooltip = EMPTY_TT
        }
        
        custom_tooltip = TRADE_COALITION_MEMBER_TT
        
        every_country = {
            limit = {
                has_country_modifier = member_of_trade_coalition
            }
            custom_tooltip = EMPTY_TT
        }
    }
    
    # Demand Gold
    option = {
		name = wwu_faction_roster.103.option.a
        
        trigger = {
            has_country_modifier = head_of_trade_coalition
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_trade_coalition
                NOT = { has_country_modifier = head_of_trade_coalition }
                treasury = 100
            }
            
            ROOT = { 
                add_years_of_income = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                treasury = 5000
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Manpower
    option = {
		name = wwu_faction_roster.103.option.b
        
        trigger = {
            has_country_modifier = head_of_trade_coalition
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_trade_coalition
                NOT = { has_country_modifier = head_of_trade_coalition }
                manpower_percentage = 0.25
            }
            
            ROOT = { 
                add_yearly_manpower = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                manpower_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Sailors
    option = {
		name = wwu_faction_roster.103.option.c
        
        trigger = {
            has_country_modifier = head_of_trade_coalition
            NOT = { has_country_modifier = recent_faction_demand }
        }
         
        every_country = {
            limit = {
                has_country_modifier = member_of_trade_coalition
                NOT = { has_country_modifier = head_of_trade_coalition }
                sailors_percentage = 0.25
            }
            
            ROOT = {
                add_yearly_sailors = 1
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 50
            
            modifier = {
                factor = 0
                
                sailors_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Demand Troops
    option = {
		name = wwu_faction_roster.103.option.d
        
        trigger = {
            has_country_modifier = head_of_trade_coalition
            NOT = { has_country_modifier = recent_faction_demand }
        }
        
        every_country = {
            limit = {
                has_country_modifier = member_of_trade_coalition
                NOT = { has_country_modifier = head_of_trade_coalition }
                army_size_percentage = 0.25
            }
            
            ROOT = {
                capital_scope = {
                    infantry = ROOT
                }
                
                add_country_modifier = {
                    name = recent_faction_demand
                    duration = 365
                    hidden = yes
                }
            }
        }
        
        ai_chance = {
            factor = 100
            
            modifier = {
                factor = 0
                
                army_size_percentage = 0.5
            }
            
            modifier = {
                factor = 0
                
                is_at_war = yes
            }
        }
	}
    
    # Enforce War Participation
    option = {
		name = wwu_faction_roster.103.option.e
        
        trigger = {
            has_country_modifier = head_of_trade_coalition
            is_at_war = yes
            any_country = {
                ai = yes
                has_country_modifier = member_of_trade_coalition
                is_subject = no
                NOT = { is_at_war = yes }
            }
        }
        
        add_prestige = -10
        
        every_country = {
            limit = {
                ai = yes
                has_country_modifier = member_of_trade_coalition
                NOT = { has_country_modifier = head_of_trade_coalition }
                is_subject = no
                NOT = { is_at_war = yes }
            }
            
            join_all_offensive_wars_of = ROOT
            join_all_defensive_wars_of = ROOT
        }
        
        ai_chance = {
            factor = 100
        }
	}
    
	option = {
		name = wwu_faction_roster.103.option.x
        
        ai_chance = {
            factor = 1
        }
	}
}