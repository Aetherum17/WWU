namespace = burning_legion_invasion
# We need an 'adapter' event between decision and main event because randomness in decisions are bugged.
country_event = {
	id = burning_legion_invasion.1
	title = burning_legion_invasion.title
	desc = burning_legion_invasion.desc
	picture = LEGION_eventPicture
	
	mean_time_to_happen = {
		months = 2
	}
	
	immediate = {
		clr_country_flag = burning_legion_invasion_flag
		country_event = { id = burning_legion_invasion.2 tooltip = send_invasion_force_tt }
	}
	
	option = {
		name = burning_legion_invasion.opt1
	}
}
country_event = {
	id = burning_legion_invasion.2
	title = burning_legion_invasion.title
	desc = burning_legion_invasion.desc
	picture = LEGION_eventPicture
	is_triggered_only = yes
	
	option = {
		name = burning_legion_invasion.opt1
		trigger = {
			any_country = {
				capital_scope = { continent = continent_eastern_kingdoms }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = continent_eastern_kingdoms }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
				
			}
			capital_scope = {
				cede_province = ROOT
			}
			ROOT = {
				declare_war_with_cb = {
					who = PREV
					casus_belli = cb_legion_invasion
				}
			}
		}
	}
	
	option = {
		name = burning_legion_invasion.opt2
		trigger = {
			any_country = {
				capital_scope = { continent = continent_kalimdor }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = continent_kalimdor }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
				
			}
			capital_scope = {
				cede_province = ROOT
			}
			ROOT = {
				declare_war_with_cb = {
					who = PREV
					casus_belli = cb_legion_invasion
				}
			}
		}
	}
	
	option = {
		name = burning_legion_invasion.opt3
		trigger = {
			any_country = {
				capital_scope = { continent = continent_northrend }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = continent_northrend }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
				
			}
			capital_scope = {
				cede_province = ROOT
			}
			ROOT = {
				declare_war_with_cb = {
					who = PREV
					casus_belli = cb_legion_invasion
				}
			}
		}
	}
	
	option = {
		name = burning_legion_invasion.opt4
		trigger = {
			any_country = {
				capital_scope = { continent = continent_pandaria }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = continent_pandaria }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
				
			}
			capital_scope = {
				cede_province = ROOT
			}
			ROOT = {
				declare_war_with_cb = {
					who = PREV
					casus_belli = cb_legion_invasion
				}
			}
		}
	}
	
	option = {
		name = burning_legion_invasion.opt5
		trigger = {
			any_country = {
				capital_scope = { continent = continent_broken_isles }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = continent_broken_isles }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
				
			}
			capital_scope = {
				cede_province = ROOT
			}
			ROOT = {
				declare_war_with_cb = {
					who = PREV
					casus_belli = cb_legion_invasion
				}
			}
		}
	}
	
	option = {
		name = burning_legion_invasion.opt6
		trigger = {
			any_country = {
				capital_scope = { continent = continent_maelstrom }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = continent_maelstrom }
				NOT = { has_opinion = {
					who = ROOT
					value = 0
				} }
				NOT = { religion = religion_fel }
				NOT = { has_country_modifier = is_evil }
				
			}
			capital_scope = {
				cede_province = ROOT
			}
			ROOT = {
				declare_war_with_cb = {
					who = PREV
					casus_belli = cb_legion_invasion
				}
			}
		}
	}
}