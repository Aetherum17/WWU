namespace = wwu_setup_ethereal

# The Consortium
country_event = {
	id = wwu_setup_ethereal.1
	title = wwu_setup_ethereal.1.title
	desc = wwu_setup_ethereal.1.desc
	picture = ETHEREAL_PEDDLER_eventPicture

	is_triggered_only = yes
    
	trigger = {
        NOT = { exists = P18 }
        NOT = { has_global_flag = setup_consortium }
        NOT = { has_global_flag = outland_country_setup }
        
        had_global_flag = {
            flag = setup_outland
            days = 365
        }
        
        capital_scope = {
            superregion = outland_superregion
        }
    }
    
    immediate = {
        hidden_effect = {
            set_global_flag = setup_consortium
        }
    }
    
    mean_time_to_happen = {
		days = 1
	}

	option = {
		name = wwu_setup_ethereal.1.option.a
        
        1711 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1712 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1713 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1714 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        2060 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        2061 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1705 = {
            cede_province = P18
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        
        ai_chance = {
            factor = 100
        }
	}
	option = {
		name = wwu_setup_ethereal.1.option.b
        
        trigger = {
            OR = {
                1711 = {
                    owned_by = ROOT
                }
                1712 = {
                    owned_by = ROOT
                }
                1713 = {
                    owned_by = ROOT
                }
                1714 = {
                    owned_by = ROOT
                }
                2060 = {
                    owned_by = ROOT
                }
                2061 = {
                    owned_by = ROOT
                }
                1705 = {
                    owned_by = ROOT
                }
            }
        }
        
        1711 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1712 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1713 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1714 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        2060 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        2061 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1705 = {
            add_core = P18
            change_culture = culture_ethereal
            change_religion = arcane
        }
        
        ai_chance = {
            factor = 0
        }
	}
    
    after = {
        P18 = {
            add_nation_boost_1 = yes
        }
    }
}

# Ethereum
country_event = {
	id = wwu_setup_ethereal.2
	title = wwu_setup_ethereal.2.title
	desc = wwu_setup_ethereal.2.desc
	picture = ETHEREAL_PEDDLER_eventPicture

	is_triggered_only = yes
    
	trigger = {
        NOT = { exists = F80 }
        NOT = { has_global_flag = setup_ethereum }
        NOT = { has_global_flag = outland_country_setup }
        
        had_global_flag = {
            flag = setup_outland
            days = 365
        }
        
        capital_scope = {
            superregion = outland_superregion
        }
    }
    
    immediate = {
        hidden_effect = {
            set_global_flag = setup_ethereum
        }
    }
    
    mean_time_to_happen = {
		days = 1
	}

	option = {
		name = wwu_setup_ethereal.2.option.a
        
        2059 = {
            cede_province = F80
            add_core = F80
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1715 = {
            cede_province = F80
            add_core = F80
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1716 = {
            cede_province = F80
            add_core = F80
            change_culture = culture_ethereal
            change_religion = arcane
        }
        
        ai_chance = {
            factor = 100
        }
	}
	option = {
		name = wwu_setup_ethereal.1.option.b
        
        trigger = {
            OR = {
                2059 = {
                    owned_by = ROOT
                }
                1715 = {
                    owned_by = ROOT
                }
                1716 = {
                    owned_by = ROOT
                }
            }
        }
        
        2059 = {
            add_core = F80
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1715 = {
            add_core = F80
            change_culture = culture_ethereal
            change_religion = arcane
        }
        1716 = {
            add_core = F80
            change_culture = culture_ethereal
            change_religion = arcane
        }
        
        ai_chance = {
            factor = 0
        }
	}
    
    after = {
        F80 = {
            add_nation_boost_1 = yes
        }
    }
}

