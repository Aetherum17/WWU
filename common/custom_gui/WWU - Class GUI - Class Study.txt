#----------------------------------------
# Class GUI
#----------------------------------------
# Background
custom_icon = {
   name = class_gui_view_background
   potential = { 
        has_country_flag = gui_flag__class_study_gui_open
   }
}

#--------------
# Class Study
#--------------
custom_text_box = {
   name = class_gui_study_title
   potential = { 
        has_country_flag = gui_flag__class_study_gui_open
   }
}

custom_text_box = {
   name = class_gui_study_selection
   potential = { 
        has_country_flag = gui_flag__class_study_gui_open
   }
}

custom_text_box = {
   name = class_gui_abilities_title
   potential = { 
        has_country_flag = gui_flag__class_abilities_gui_open
   }
}

# Start Study
custom_button = {
    name = class_gui_start_class_study
   tooltip = CLASS_STUDY_START_HOVER_TT
    
    potential = {
        has_class_study_window_open = yes
        NOT = { has_ruler_modifier = class_training }
    }
    
    trigger = { 
        has_class_study_cost = yes
    }
    
    effect = { 
        custom_tooltip = TOGGLE_CLASS_SELECTION_TT
        hidden_effect = {
            if = {
                limit = {
                    has_country_flag = gui_flag__class_selection_gui_open
                }
                
                clr_country_flag = gui_flag__class_selection_gui_open
            }
            else = {
                set_country_flag = gui_flag__class_selection_gui_open
            }
        }
    }
}

# Cancel Study
custom_button = {
    name = class_gui_cancel_class_study
    tooltip = CLASS_STUDY_CANCEL_HOVER_TT
    
    potential = {
        has_class_study_window_open = yes
        has_ruler_modifier = class_training
    }
    
    trigger = { 
        
    }
    
    effect = { 
        cancel_class_study = yes
    }
}

# Boost Study
custom_button = {
    name = class_gui_boost_class_study
   tooltip = CLASS_STUDY_BOOST_HOVER_TT
    
    potential = {
        has_class_study_window_open = yes
        has_ruler_modifier = class_training
    }
    
    trigger = {     
        has_not_completed_class_study = yes
        has_class_study_gold_cost = yes
    }
    
    effect = { 
        boost_class_study_action = yes
    }
}

custom_text_box = {
   name = class_gui_class_study_progress_text
   tooltip = CLASS_STUDY_PROGRESS_HOVER_TT
   
   potential = { 
        has_class_study_window_open = yes
   }
}

#--------------
# Class Selection
#--------------
# Background
custom_icon = {
   name = class_selection_background
   potential = { 
        has_country_flag = gui_flag__class_selection_gui_open
   }
}

# Title
custom_text_box = {
   name = class_gui_class_section_title
   
   potential = { 
        has_country_flag = gui_flag__class_selection_gui_open
   }
}

# Selection: Warrior
custom_button = {
    name = class_gui_select_button_1
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_WARRIOR_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_warrior = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_warrior
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Paladin
custom_button = {
    name = class_gui_select_button_2
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_PALADIN_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_paladin = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_paladin
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Priest
custom_button = {
    name = class_gui_select_button_3
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_PRIEST_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_priest = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_priest
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Rogue
custom_button = {
    name = class_gui_select_button_4
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_ROGUE_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_rogue = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_rogue
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Mage
custom_button = {
    name = class_gui_select_button_5
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_MAGE_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_mage = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_mage
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Warlock
custom_button = {
    name = class_gui_select_button_6
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_WARLOCK_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_warlock = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_warlock
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Druid
custom_button = {
    name = class_gui_select_button_7
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_DRUID_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_druid = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_druid
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Hunter
custom_button = {
    name = class_gui_select_button_8
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_HUNTER_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_hunter = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_hunter
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Shaman
custom_button = {
    name = class_gui_select_button_9
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_SHAMAN_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_shaman = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_shaman
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Death Knight
custom_button = {
    name = class_gui_select_button_10
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_DEATH_KNIGHT_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_death_knight = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_death_knight
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Monk
custom_button = {
    name = class_gui_select_button_11
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_MONK_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_monk = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_monk
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
# Selection: Demon Hunter
custom_button = {
    name = class_gui_select_button_12
    tooltip = RULER_CLASS_SPECIALIZATION_HOVER_DEMON_HUNTER_TT
    
    potential = {
        has_country_flag = gui_flag__class_selection_gui_open
    }
    
    trigger = { 
        has_class_study_cost = yes
        can_be_demon_hunter = yes
    }
    
    effect = { 
        take_class_study_cost = yes
        start_class_study = yes
        
        hidden_effect = {
            set_ruler_flag = training_as_demon_hunter
            reset_class_study = yes
            clr_country_flag = gui_flag__class_selection_gui_open
        }
    }
}
