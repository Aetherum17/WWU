init_full_unity = {
	init_culture_unity = yes
	init_religion_unity = yes
	init_core_unity = yes
}

init_culture_unity = {
	every_owned_province = {
		limit = {
			NOT = { culture = ROOT }
			NOT = { has_province_flag = override_country_culture }  # Put this flag to province histories if you don't want to force province have country culture.
		}
		change_culture = ROOT
	}
}

init_religion_unity = {
	every_owned_province = {
		limit = {
			NOT = { religion = ROOT }
			NOT = { has_province_flag = override_country_religion }  # Put this flag to province histories if you don't want to force province have country religion.
		}
		change_religion = ROOT
	}
}

init_core_unity = {
	every_owned_province = {
		limit = {
			NOT = { is_core = ROOT }
			NOT = { has_province_flag = override_country_core }  # Put this flag to province histories if you don't want to force province have core.
		}
		add_core = ROOT
	}
}

on_province_religion_converted_effect = {
    if = {
        limit = {
            has_province_modifier = religious_persecution
        }
        remove_province_modifier = religious_persecution
    }
	
	if = {
		limit = {
			religion = fel
			trade_goods = arcane_source
		}
		change_trade_goods = fel_source
	}
	
	if = {
		limit = {
			religion = cult_of_the_damned
			trade_goods = arcane_source
		}
		change_trade_goods = fel_source
	}
	
	if = {
		limit = {
			NOT = { religion = fel }
			NOT = { religion = cult_of_the_damned }
			trade_goods = fel_source
		}
		change_trade_goods = arcane_source
	}
}

on_province_culture_converted_effect = {
    if = {
		limit = {
			culture_group = culture_group_scourge
			trade_goods = grain
		}
		change_trade_goods = crypts
	}
	
	if = {
		limit = {
			culture_group = culture_group_undead
			trade_goods = grain
		}
		change_trade_goods = crypts
	}
	
}

on_province_owner_change_effect = {
    if = {
		limit = {
			culture_group = culture_group_scourge
			trade_goods = grain
		}
		change_trade_goods = crypts
	}
	
	if = {
		limit = {
			culture_group = culture_group_undead
			trade_goods = grain
		}
		change_trade_goods = crypts
	}
	
	if = {
		limit = {
			religion = fel
			trade_goods = arcane_source
		}
		change_trade_goods = fel_source
	}
	
	if = {
		limit = {
			religion = cult_of_the_damned
			trade_goods = arcane_source
		}
		change_trade_goods = fel_source
	}
	
	if = {
		limit = {
			NOT = { religion = fel }
			NOT = { religion = cult_of_the_damned }
			trade_goods = fel_source
		}
		change_trade_goods = arcane_source
	}
	
	if = {
		limit = {
			province_id = 1671
		}
		owner = {
			add_country_modifier = {
				name = lord_of_outland
				duration = -1
			}
		}
		FROM = { remove_country_modifier = lord_of_outland }
	}
}

#-----------------------------------
# On Actions
#-----------------------------------
# ROOT = Winner Country, FROM = Loser Country
on_battle_won_country__misc = {
    if = {
        limit = {
            has_country_modifier = chaos_demonic_annihilation
            FROM = {
                culture_group = culture_group_demonic
            }
        }
        
        add_prestige = 5
        add_mil_power = 5
    }
}