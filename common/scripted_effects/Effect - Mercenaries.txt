#-----------------------------------
# On Actions
#-----------------------------------
# ROOT = Country
on_startup__mercenary_companies = {
    update_mercenary_availability = yes
}

on_yearly_pulse__mercenary_companies = {
    update_mercenary_availability = yes
}

#-----------------------------------
# Feature
#-----------------------------------
# Updated here so the heavy checks are only applied once per year, 
# and stop being applied once the mercenary company is unlocked.
update_mercenary_availability = {
    # Death Knight
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_death_knight }
            OR = {
                religion = cult_of_the_damned
                AND = {
                     any_neighbor_country = {
                        religion = cult_of_the_damned
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_death_knight
    }
    else = {
        #clr_country_flag = mercenary_available_death_knight
    }
    
    # Druid
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_druid }
            OR = {
                religion_group = life_group
                AND = {
                     any_neighbor_country = {
                        religion_group = life_group
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_druid
    }
    else = {
        #clr_country_flag = mercenary_available_druid
    }
    
    # Hunter
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_hunter }
            always = yes
        }
        set_country_flag = mercenary_available_hunter
    }
    else = {
        #clr_country_flag = mercenary_available_hunter
    }
    
    # Mage
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_mage }
            always = yes
        }
        set_country_flag = mercenary_available_mage
    }
    else = {
        #clr_country_flag = mercenary_available_mage
    }
    
    # Monk
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_monk }
            OR = {
                culture_group = culture_group_pandaren
                AND = {
                     any_neighbor_country = {
                        culture_group = culture_group_pandaren
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_monk
    }
    else = {
        #clr_country_flag = mercenary_available_monk
    }
    
    # Paladin
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_paladin }
            OR = {
                religion_group = light_group
                AND = {
                    any_neighbor_country = {
                        religion_group = light_group
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                    NOT = { religion_group = disorder_group }
                    NOT = { religion_group = shadow_group }
                    NOT = { religion_group = death_group }
                }
            }
        }
        set_country_flag = mercenary_available_paladin
    }
    else = {
        #clr_country_flag = mercenary_available_paladin
    }
    
    # Priest
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_priest }
            OR = {
                religion_group = light_group
                AND = {
                    any_neighbor_country = {
                        religion_group = light_group
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                    NOT = { religion_group = disorder_group }
                    NOT = { religion_group = shadow_group }
                    NOT = { religion_group = death_group }
                }
            }
        }
        set_country_flag = mercenary_available_priest
    }
    else = {
        #clr_country_flag = mercenary_available_priest
    }
    
    # Rogue
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_rogue }
            always = yes
        }
        set_country_flag = mercenary_available_rogue
    }
    else = {
        #clr_country_flag = mercenary_available_rogue
    }
    
    # Shaman
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_shaman }
            OR = {
                OR = {
                    religion_group = elemental_group
                    religion = ogre_idolatry
                    religion = tuskarr_idolatry
                    religion = wolvar_idolatry
                }
                
                AND = {
                    any_neighbor_country = {
                       OR = {
                            religion_group = elemental_group
                            religion = ogre_idolatry
                            religion = tuskarr_idolatry
                            religion = wolvar_idolatry
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_shaman
    }
    else = {
        #clr_country_flag = mercenary_available_shaman
    }
    
    # Warlock
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_warlock }
            OR = {
            religion_group = disorder_group
            AND = {
                any_owned_province = {
                    religion = fel
                }
            }
        }
        }
        set_country_flag = mercenary_available_warlock
    }
    else = {
        #clr_country_flag = mercenary_available_warlock
    }
    
    # Warrior
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_warrior }
            always = yes
        }
        set_country_flag = mercenary_available_warrior
    }
    else = {
        #clr_country_flag = mercenary_available_warrior
    }
    
    # Demon Hunter
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_demon_hunter }
            OR = {
                culture_group = culture_group_demon_hunter
                AND = {
                    any_neighbor_country = {
                        culture_group = culture_group_demon_hunter
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_demon_hunter
    }
    else = {
        #clr_country_flag = mercenary_available_demon_hunter
    }
    
    # Evoker
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_evoker }
            OR = {
                culture_group = culture_group_dragonkin
                AND = {
                    any_neighbor_country = {
                        culture_group = culture_group_dragonkin
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_evoker
    }
    else = {
        #clr_country_flag = mercenary_available_evoker
    }
    
    # Buccaneer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_buccaneer }
            OR = {
                has_reform = pirate_republic_reform
                AND = {
                    any_neighbor_country = {
                        has_reform = pirate_republic_reform
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_buccaneer
    }
    else = {
        #clr_country_flag = mercenary_available_buccaneer
    }
    
    # Hydromancer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_hydromancer }
            OR = {
                religion = water
                AND = {
                    any_neighbor_country = {
                        religion = water
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_hydromancer
    }
    else = {
        #clr_country_flag = mercenary_available_hydromancer
    }
    
    # Geomancer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_geomancer }
            OR = {
                religion = earth
                AND = {
                    any_neighbor_country = {
                        religion = earth
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_geomancer
    }
    else = {
        #clr_country_flag = mercenary_available_geomancer
    }
    
    # Marauder
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_marauder }
            OR = {
                has_reform = wwu_military_mercenary_camps
                AND = {
                    any_neighbor_country = {
                        has_reform = wwu_military_mercenary_camps
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_marauder
    }
    else = {
        #clr_country_flag = mercenary_available_marauder
    }
    
    # Sentinel
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_sentinel }
            OR = {
                OR = {
                    religion = elune
                    culture_group = culture_group_darnassian
                    culture_group = culture_group_thalassian
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            religion = elune
                            culture_group = culture_group_darnassian
                            culture_group = culture_group_thalassian
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_sentinel
    }
    else = {
        #clr_country_flag = mercenary_available_sentinel
    }
    
    # Ranger
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_ranger }
            OR = {
                OR = {
                    religion = elune
                    culture_group = culture_group_darnassian
                    culture_group = culture_group_thalassian
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            religion = elune
                            culture_group = culture_group_darnassian
                            culture_group = culture_group_thalassian
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_ranger
    }
    else = {
        #clr_country_flag = mercenary_available_ranger
    }
    
    # Warden
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_warden }
            OR = {
                OR = {
                    religion = elune
                    culture_group = culture_group_darnassian
                    culture_group = culture_group_thalassian
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            religion = elune
                            culture_group = culture_group_darnassian
                            culture_group = culture_group_thalassian
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_warden
    }
    else = {
        #clr_country_flag = mercenary_available_warden
    }
    
    # Spellbreaker
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_spellbreaker }
            OR = {
                OR = {
                    religion = elune
                    culture_group = culture_group_darnassian
                    culture_group = culture_group_thalassian
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            religion = elune
                            culture_group = culture_group_darnassian
                            culture_group = culture_group_thalassian
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_spellbreaker
    }
    else = {
        #clr_country_flag = mercenary_available_spellbreaker
    }
    
    # Mountaineer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_mountaineer }
            OR = {
                culture_group = culture_group_dwarven
                AND = {
                    any_neighbor_country = {
                        culture_group = culture_group_dwarven
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_mountaineer
    }
    else = {
        #clr_country_flag = mercenary_available_mountaineer
    }
    
    # Blademaster
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_blademaster }
            OR = {
                culture_group = culture_group_orc
                AND = {
                    any_neighbor_country = {
                        culture_group = culture_group_orc
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_blademaster
    }
    else = {
        #clr_country_flag = mercenary_available_blademaster
    }
    
    # Farseer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_farseer }
            OR = {
                culture_group = culture_group_orc
                AND = {
                    any_neighbor_country = {
                        culture_group = culture_group_orc
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_farseer
    }
    else = {
        #clr_country_flag = mercenary_available_farseer
    }
    
    # Berserker
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_berserker }
            OR = {
                OR = {
                    culture_group = culture_group_orc
                    culture_group = culture_group_troll
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            culture_group = culture_group_orc
                            culture_group = culture_group_troll
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_berserker
    }
    else = {
        #clr_country_flag = mercenary_available_berserker
    }
    
    # Witch Doctor
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_witch_doctor }
            OR = {
                OR = {
                    culture_group = culture_group_pygmy
                    culture_group = culture_group_troll
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            culture_group = culture_group_pygmy
                            culture_group = culture_group_troll
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_witch_doctor
    }
    else = {
        #clr_country_flag = mercenary_available_witch_doctor
    }
    
    # Headhunter
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_headhunter }
            OR = {
                OR = {
                    culture_group = culture_group_pygmy
                    culture_group = culture_group_troll
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            culture_group = culture_group_pygmy
                            culture_group = culture_group_troll
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_headhunter
    }
    else = {
        #clr_country_flag = mercenary_available_headhunter
    }
    
    # Necromancer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_necromancer }
            OR = {
                OR = {
                    religion = cult_of_the_damned
                    culture_group = culture_group_undead
                    culture_group = culture_group_scourge
                }
                AND = {
                     any_neighbor_country = {
                        OR = {
                            religion = cult_of_the_damned
                            culture_group = culture_group_undead
                            culture_group = culture_group_scourge
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_necromancer
    }
    else = {
        #clr_country_flag = mercenary_available_necromancer
    }
    
    # Bombardier
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_bombardier }
            OR = {
                has_institution = wwu_gunpowder_warfare
                AND = {
                    any_neighbor_country = {
                        has_institution = wwu_gunpowder_warfare
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_bombardier
    }
    else = {
        #clr_country_flag = mercenary_available_bombardier
    }
    
    # Engineer
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_engineer }
            OR = {
                OR = {
                    has_institution = wwu_gunpowder_warfare
                    culture_group = culture_group_dwarven
                    culture_group = culture_group_gnomish
                    culture_group = culture_group_mecha_gnomish
                    culture_group = culture_group_goblin
                }
                AND = {
                    any_neighbor_country = {
                        OR = {
                            has_institution = wwu_gunpowder_warfare
                            culture_group = culture_group_dwarven
                            culture_group = culture_group_gnomish
                            culture_group = culture_group_mecha_gnomish
                            culture_group = culture_group_goblin
                        }
                        has_opinion = {
                            who = ROOT
                            value = 50
                        }
                    }
                }
            }
        }
        set_country_flag = mercenary_available_engineer
    }
    else = {
        #clr_country_flag = mercenary_available_engineer
    }
    
    # Dreadlord
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_dreadlord }
            OR = {
                culture_group = culture_group_demonic
                AND = {
                    religion = fel
                    papal_influence = 50
                }
            }
        }
        set_country_flag = mercenary_available_dreadlord
    }
    else = {
        #clr_country_flag = mercenary_available_dreadlord
    }
    
    # Doomguard
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_doomguard }
            OR = {
                culture_group = culture_group_demonic
                AND = {
                    religion = fel
                    papal_influence = 50
                }
            }
        }
        set_country_flag = mercenary_available_doomguard
    }
    else = {
        #clr_country_flag = mercenary_available_doomguard
    }
    
    # Shivarra
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_shivarra }
            OR = {
                culture_group = culture_group_demonic
                AND = {
                    religion = fel
                    papal_influence = 50
                }
            }
        }
        set_country_flag = mercenary_available_shivarra
    }
    else = {
        #clr_country_flag = mercenary_available_shivarra
    }
    
    # Pit Lord
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_pitlord }
            OR = {
                culture_group = culture_group_demonic
                AND = {
                    religion = fel
                    papal_influence = 50
                }
            }
        }
        set_country_flag = mercenary_available_pitlord
    }
    else = {
        #clr_country_flag = mercenary_available_pitlord
    }
    
    # Earth Elemental
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_earth_elemental }
            OR = {
                culture_group = culture_group_earth
                AND = {
                    religion = shamanism
                    karma = 1
                }
            }
        }
        set_country_flag = mercenary_available_earth_elemental
    }
    else = {
        #clr_country_flag = mercenary_available_earth_elemental
    }
    
    # Fire Elemental
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_fire_elemental }
            OR = {
                culture_group = culture_group_fire
                AND = {
                    religion = shamanism
                    karma = 1
                }
            }
        }
        set_country_flag = mercenary_available_fire_elemental
    }
    else = {
        #clr_country_flag = mercenary_available_fire_elemental
    }
    
    # Water Elemental
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_water_elemental }
            OR = {
                culture_group = culture_group_water
                AND = {
                    religion = shamanism
                    karma = 1
                }
            }
        }
        set_country_flag = mercenary_available_water_elemental
    }
    else = {
        #clr_country_flag = mercenary_available_water_elemental
    }
    
    # Wind Elemental
    if = {
        limit = {
            NOT = { has_country_flag = mercenary_available_wind_elemental }
            OR = {
                culture_group = culture_group_air
                AND = {
                    religion = shamanism
                    karma = 1
                }
            }
        }
        set_country_flag = mercenary_available_wind_elemental
    }
    else = {
        #clr_country_flag = mercenary_available_wind_elemental
    }
    
    # Tinker
    if = {
        limit = {
            has_estate = estate_invention
        }
        
        # Tinker - Base
        if = {
            limit = {
                NOT = { has_estate_privilege = estate_invention_tinker_shrink_ray }
                NOT = { has_estate_privilege = estate_invention_tinker_seaforium_charge }
                NOT = { has_estate_privilege = estate_invention_tinker_rocket_launcher }
                NOT = { has_estate_privilege = estate_invention_tinker_force_reactive_disk }
                NOT = { has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector }
                
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_base
        }
        else = {
            clr_country_flag = mercenary_available_tinker_base
        }
        
        # Tinker - Shrink Ray
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_shrink_ray
                NOT = { has_estate_privilege = estate_invention_tinker_force_reactive_disk }
                NOT = { has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector }
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_shrink_ray
        }
        else = {
            clr_country_flag = mercenary_available_tinker_shrink_ray
        }
        
        # Tinker - Seaforium Charge
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_seaforium_charge
                NOT = { has_estate_privilege = estate_invention_tinker_force_reactive_disk }
                NOT = { has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector }
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_seaforium_charge
        }
        else = {
            clr_country_flag = mercenary_available_tinker_seaforium_charge
        }
        
        # Tinker - Rocket Launcher
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_rocket_launcher
                NOT = { has_estate_privilege = estate_invention_tinker_force_reactive_disk }
                NOT = { has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector }
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_rocket_launcher
        }
        else = {
            clr_country_flag = mercenary_available_tinker_rocket_launcher
        }
        
        # Tinker - Force-Reactive Disk
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_force_reactive_disk
                NOT = { has_estate_privilege = estate_invention_tinker_shrink_ray }
                NOT = { has_estate_privilege = estate_invention_tinker_seaforium_charge }
                NOT = { has_estate_privilege = estate_invention_tinker_rocket_launcher }
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_force_reactive_disk
        }
        else = {
            clr_country_flag = mercenary_available_tinker_force_reactive_disk
        }
        
        # Tinker - Hyper-Radiant Flame Reflector
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector
                NOT = { has_estate_privilege = estate_invention_tinker_shrink_ray }
                NOT = { has_estate_privilege = estate_invention_tinker_seaforium_charge }
                NOT = { has_estate_privilege = estate_invention_tinker_rocket_launcher }
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_hyper_radiant_flame_reflector
        }
        else = {
            clr_country_flag = mercenary_available_tinker_hyper_radiant_flame_reflector
        }
        
        # Tinker Combo - Shrink Ray + Force-Reactive Disk
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_shrink_ray
                has_estate_privilege = estate_invention_tinker_force_reactive_disk
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_combo__shrink_ray__force_reactive_disk
        }
        else = {
            clr_country_flag = mercenary_available_tinker_combo__shrink_ray__force_reactive_disk
        }
        
        # Tinker Combo - Seaforium Charge + Force-Reactive Disk
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_seaforium_charge
                has_estate_privilege = estate_invention_tinker_force_reactive_disk
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_combo__seaforium_charge__force_reactive_disk
        }
        else = {
            clr_country_flag = mercenary_available_tinker_combo__seaforium_charge__force_reactive_disk
        }
        
        # Tinker Combo - Rocket Launcher + Force-Reactive Disk
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_rocket_launcher
                has_estate_privilege = estate_invention_tinker_force_reactive_disk
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_combo__rocket_launcher__force_reactive_disk
        }
        else = {
            clr_country_flag = mercenary_available_tinker_combo__rocket_launcher__force_reactive_disk
        }
        
        # Tinker Combo - Shrink Ray + Hyper-Radiant Flame Reflector
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_shrink_ray
                has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_combo__shrink_ray__hyper_radiant_flame_reflector
        }
        else = {
            clr_country_flag = mercenary_available_tinker_combo__shrink_ray__hyper_radiant_flame_reflector
        }
        
        # Tinker Combo - Seaforium Charge + Hyper-Radiant Flame Reflector
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_seaforium_charge
                has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_combo__seaforium_charge__hyper_radiant_flame_reflector
        }
        else = {
            clr_country_flag = mercenary_available_tinker_combo__seaforium_charge__hyper_radiant_flame_reflector
        }
        
        # Tinker Combo - Rocket Launcher + Hyper-Radiant Flame Reflector
        if = {
            limit = {
                has_estate_privilege = estate_invention_tinker_rocket_launcher
                has_estate_privilege = estate_invention_tinker_hyper_radiant_flame_reflector
            
                OR = {
                    OR = {
                        culture_group = culture_group_gnomish
                        culture_group = culture_group_mecha_gnomish
                        culture_group = culture_group_goblin
                    }
                    AND = {
                        any_neighbor_country = {
                            OR = {
                                culture_group = culture_group_gnomish
                                culture_group = culture_group_mecha_gnomish
                                culture_group = culture_group_goblin
                            }
                            has_opinion = {
                                who = ROOT
                                value = 50
                            }
                        }
                    }
                }
            }
            set_country_flag = mercenary_available_tinker_combo__rocket_launcher__hyper_radiant_flame_reflector
        }
        else = {
            clr_country_flag = mercenary_available_tinker_combo__rocket_launcher__hyper_radiant_flame_reflector
        }
    }
}

