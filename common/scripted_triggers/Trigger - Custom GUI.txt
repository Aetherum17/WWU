#-----------------------------
# Windows
#-----------------------------
# Court View
is_ruler_information_panel_open = {
    has_country_flag = gui_flag__court_view_ruler_information_panel_open
}

# Class GUI
is_class_study_gui_open = {
    has_country_flag = gui_flag__class_study_gui_open
}

is_class_abilities_gui_open = {
    has_country_flag = gui_flag__class_abilities_gui_open
}

is_class_selection_panel_open = {
    has_country_flag = gui_flag__class_selection_gui_open
}

# Magic GUI
is_magical_study_gui_open = {
    has_country_flag = gui_flag__magic_study_gui_open
}

is_spellbook_gui_open = {
    has_country_flag = gui_flag__magic_usage_gui_open
}

is_magic_school_selection_panel_open = {
    has_country_flag = gui_flag__magic_school_selection_open
}

# Archaeology
is_archaeology_gui_open = {
    has_country_flag = gui_flag__archaeology_gui_open
}

# Stratagems
is_stratagem_gui_open = {
    has_country_flag = gui_flag__stratagem_gui_open
}

# Clique
is_clique_gui_open = {
    has_country_flag = gui_flag__clique_gui_open
}

# National Identity
is_national_identity_gui_open = {
    has_country_flag = gui_flag__national_identity_gui_open
}

# Building Management
is_building_management_gui_open = {
    has_country_flag = gui_flag__building_management_gui_open
}

#-----------------------------
# Clique GUI
#-----------------------------
has_faction_assigned = {
    OR = {
        # Merchant Republic
        has_faction = mr_aristocrats
        has_faction = mr_traders
        has_faction = mr_guilds
        
        # Pirate Republic
        has_faction = pr_buccaneers
        has_faction = pr_smugglers
        has_faction = pr_captains
    
        # Scourge
        has_faction = faction_death_knights
        has_faction = faction_lichs
        has_faction = faction_darkfallen
        
        # Quel'Thalas
        has_faction = faction_magisters
        has_faction = faction_farstriders
        has_faction = faction_blood_knights
        
        # Naga
        has_faction = faction_warlords
        has_faction = faction_mistresses
        has_faction = faction_harbingers
        
        # Gorian Empire
        has_faction = faction_council_of_sorcerers
        has_faction = faction_magi_of_stone_magic
        has_faction = faction_magic_breakers
        
        # Criminal Organisation
        has_faction = faction_bandits
        has_faction = faction_thieves
        has_faction = faction_cartels
        
        # Kul Tiras
        has_faction = faction_house_proudmoore
        has_faction = faction_house_stormsong
        has_faction = faction_house_ashvane
        has_faction = faction_house_waycrest
    }
}

# Merchant Republic
has_merchant_republic_clique = {
    OR = {
        has_faction = mr_aristocrats
        has_faction = mr_traders
        has_faction = mr_guilds
    }
}


# Pirate Republic
has_pirate_republic_clique = {
    OR = {
        has_faction = pr_buccaneers
        has_faction = pr_smugglers
        has_faction = pr_captains
    }
}


# Scourge
has_scourge_clique = {
    OR = {
        has_faction = faction_death_knights
        has_faction = faction_lichs
        has_faction = faction_darkfallen
    }
}

# Quel'Thalas
has_quelthalas_clique = {
    OR = {
        has_faction = faction_magisters
        has_faction = faction_farstriders
        has_faction = faction_blood_knights
    }
}

# Naga
has_naga_clique = {
    OR = {
        has_faction = faction_warlords
        has_faction = faction_mistresses
        has_faction = faction_harbingers
    }
}

# Gorian Empire
has_gorian_empire_clique = {
    OR = {
        has_faction = faction_council_of_sorcerers
        has_faction = faction_magi_of_stone_magic
        has_faction = faction_magic_breakers
    }
}

# Criminal Organisation
has_criminal_organisation_clique = {
    OR = {
        has_faction = faction_bandits
        has_faction = faction_thieves
        has_faction = faction_cartels
    }
}

# Kul Tiras
has_kul_tiras_clique = {
    OR = {
        has_faction = faction_house_proudmoore
        has_faction = faction_house_stormsong
        has_faction = faction_house_ashvane
        has_faction = faction_house_waycrest
    }
}

#-----------------------------
# Clique Actions
#-----------------------------
has_clique_influence_cost = {
    adm_power = 50
    dip_power = 50
    mil_power = 50
}

# Merchant Republic
can_clique_boost_be_used__merchant_republic = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__merchant_republic
        
        NOT = { has_country_modifier = clique_boost_aristocrats }
        NOT = { has_country_modifier = clique_boost_traders }
        NOT = { has_country_modifier = clique_boost_guilds }
    }
}

can_clique_be_boosted__aristocrats = {  
    NOT = { has_country_modifier = clique_boost_aristocrats }
}

can_clique_be_boosted__traders = {
    NOT = { has_country_modifier = clique_boost_traders }
}

can_clique_be_boosted__guilds = {
    NOT = { has_country_modifier = clique_boost_guilds }
}

# Pirate Republic
can_clique_boost_be_used__pirate_republic = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__pirate_republic
        
        NOT = { has_country_modifier = clique_boost_buccaneers }
        NOT = { has_country_modifier = clique_boost_smugglers }
        NOT = { has_country_modifier = clique_boost_captains }
    }
}

can_clique_be_boosted__buccaneers = {
    NOT = { has_country_modifier = clique_boost_buccaneers }
}

can_clique_be_boosted__smugglers = {
    NOT = { has_country_modifier = clique_boost_smugglers }
}

can_clique_be_boosted__captains = {
    NOT = { has_country_modifier = clique_boost_captains }
}

# Scourge
can_clique_boost_be_used__scourge = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__scourge
        
        NOT = { has_country_modifier = clique_boost_death_knights }
        NOT = { has_country_modifier = clique_boost_lichs }
        NOT = { has_country_modifier = clique_boost_darkfallen }
    }
}

can_clique_be_boosted__death_knights = {
    NOT = { has_country_modifier = clique_boost_death_knights }
}

can_clique_be_boosted__lichs = {
    NOT = { has_country_modifier = clique_boost_lichs }
}

can_clique_be_boosted__darkfallen = {
    NOT = { has_country_modifier = clique_boost_darkfallen }
}

# Quel'thalas
can_clique_boost_be_used__quelthalas = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__quelthalas
        
        NOT = { has_country_modifier = clique_boost_magisters }
        NOT = { has_country_modifier = clique_boost_farstriders }
        NOT = { has_country_modifier = clique_boost_blood_knights }
    }
}

can_clique_be_boosted__magisters = {
    NOT = { has_country_modifier = clique_boost_magisters }
}

can_clique_be_boosted__farstriders = {
    NOT = { has_country_modifier = clique_boost_farstriders }
}

can_clique_be_boosted__blood_knights = {
    NOT = { has_country_modifier = clique_boost_blood_knights }
}

# Naga
can_clique_boost_be_used__naga = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__naga
        
        NOT = { has_country_modifier = clique_boost_warlords }
        NOT = { has_country_modifier = clique_boost_mistresses }
        NOT = { has_country_modifier = clique_boost_harbingers }
    }
}

can_clique_be_boosted__warlords = {
    NOT = { has_country_modifier = clique_boost_warlords }
}

can_clique_be_boosted__mistresses = {
    NOT = { has_country_modifier = clique_boost_mistresses }
}

can_clique_be_boosted__harbingers = {
    NOT = { has_country_modifier = clique_boost_harbingers }
}

# Gorian Empire
can_clique_boost_be_used__gorian_empire = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__gorian_empire
        
        NOT = { has_country_modifier = clique_boost_sorcerers }
        NOT = { has_country_modifier = clique_boost_stone_magi }
        NOT = { has_country_modifier = clique_boost_magic_breakers }
    }
}

can_clique_be_boosted__sorcerers = {
    NOT = { has_country_modifier = clique_boost_sorcerers }
}

can_clique_be_boosted__stone_magi = {
    NOT = { has_country_modifier = clique_boost_stone_magi }
}

can_clique_be_boosted__magic_breakers = {
    NOT = { has_country_modifier = clique_boost_magic_breakers }
}

# Criminal Organisation
can_clique_boost_be_used__criminal_organisation = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__criminal_organisation
        
        NOT = { has_country_modifier = clique_boost_bandits }
        NOT = { has_country_modifier = clique_boost_thieves }
        NOT = { has_country_modifier = clique_boost_cartels }
    }
}

can_clique_be_boosted__bandits = {
    NOT = { has_country_modifier = clique_boost_bandits }
}

can_clique_be_boosted__thieves = {
    NOT = { has_country_modifier = clique_boost_thieves }
}

can_clique_be_boosted__cartels = {
    NOT = { has_country_modifier = clique_boost_cartels }
}

# Kul Tiras
can_clique_boost_be_used__kul_tiras = {
    custom_trigger_tooltip = {
        tooltip = NOT_USED_CLIQUE_BOOST__kul_tiras
        
        NOT = { has_country_modifier = clique_boost_proudmoore }
        NOT = { has_country_modifier = clique_boost_stormsong }
        NOT = { has_country_modifier = clique_boost_ashvane }
        NOT = { has_country_modifier = clique_boost_waycrest }
    }
}

can_clique_be_boosted__proudmoore = {
    NOT = { has_country_modifier = clique_boost_proudmoore }
}

can_clique_be_boosted__stormsong = {
    NOT = { has_country_modifier = clique_boost_stormsong }
}

can_clique_be_boosted__ashvane = {
    NOT = { has_country_modifier = clique_boost_ashvane }
}

can_clique_be_boosted__waycrest = {
    NOT = { has_country_modifier = clique_boost_waycrest }
}

#-----------------------------
# Building Management
#-----------------------------
any_automatic_construction_selected = {
    OR = {
        has_country_flag = auto_build_barracks
        has_country_flag = auto_build_arsenal
        has_country_flag = auto_build_shipyard
        has_country_flag = auto_build_dockyard
        has_country_flag = auto_build_tower
        has_country_flag = auto_build_training_ground
        has_country_flag = auto_build_road
        has_country_flag = auto_build_temple
        has_country_flag = auto_build_marketplace
        has_country_flag = auto_build_mine
        has_country_flag = auto_build_farm
        has_country_flag = auto_build_internment_camp
        has_country_flag = auto_build_tavern
        has_country_flag = auto_build_town_hall
        has_country_flag = auto_build_manufactory
    }
}

# Construction Targets
build_target_is_not_all = {
    custom_trigger_tooltip = {
        tooltip = AUTO_BUILD_SET_TO_ALL
        
        NOT = { has_country_flag = auto_build_target_all }
    }
}
build_target_is_not_state_only = {
    custom_trigger_tooltip = {
        tooltip = AUTO_BUILD_SET_TO_STATE_ONLY
        
        NOT = { has_country_flag = auto_build_target_state_only }
    }
}
build_target_is_not_territory_only = {
    custom_trigger_tooltip = {
        tooltip = AUTO_BUILD_SET_TO_TERRITORY
        
        NOT = { has_country_flag = auto_build_target_territory_only }
    }
}

# Destruction Targets
destroy_target_is_not_all = {
    custom_trigger_tooltip = {
        tooltip = AUTO_DESTROY_SET_TO_ALL
        
        NOT = { has_country_flag = auto_destroy_target_all }
    }
}
destroy_target_is_not_state_only = {
    custom_trigger_tooltip = {
        tooltip = AUTO_DESTROY_SET_TO_STATE_ONLY
        
        NOT = { has_country_flag = auto_destroy_target_state_only }
    }
}
destroy_target_is_not_territory_only = {
    custom_trigger_tooltip = {
        tooltip = AUTO_DESTROY_SET_TO_TERRITORY
        
        NOT = { has_country_flag = auto_destroy_target_territory_only }
    }
}

# Construction Limit
construction_limit_is_not_1 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_1
        
        NOT = { has_country_flag = construction_limit_1 }
    }
}
construction_limit_is_not_2 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_2
        
        NOT = { has_country_flag = construction_limit_2 }
    }
}
construction_limit_is_not_3 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_3
        
        NOT = { has_country_flag = construction_limit_3 }
    }
}
construction_limit_is_not_4 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_4
        
        NOT = { has_country_flag = construction_limit_4 }
    }
}
construction_limit_is_not_5 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_5
        
        NOT = { has_country_flag = construction_limit_5 }
    }
}
construction_limit_is_not_10 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_10
        
        NOT = { has_country_flag = construction_limit_10 }
    }
}
construction_limit_is_not_15 = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_15
        
        NOT = { has_country_flag = construction_limit_15 }
    }
}
construction_limit_is_not_max = {
    custom_trigger_tooltip = {
        tooltip = CONSTRUCTION_LIMIT_MAX
        
        NOT = { has_country_flag = construction_limit_max }
    }
}